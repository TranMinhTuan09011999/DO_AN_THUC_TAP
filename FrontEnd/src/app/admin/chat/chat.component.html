<div class="page-wrapper">
    <div class="chat-main-row">
        <div class="chat-main-wrapper">
            <div class="col-lg-9 message-view chat-view">
                <div class="chat-window">
                    <div class="fixed-header">
                        <div class="navbar">
                            <div class="user-details mr-auto">
                                <div class="float-left user-img m-r-10">
                                    <a href="profile.html" title="Jennifer Robinson"><img src="assets/img/user.jpg" alt="" class="w-40 rounded-circle"><span class="status online"></span></a>
                                </div>
                                <div class="user-info float-left" style="padding: 10px">
                                    <a href="profile.html"><span class="font-bold">{{customer.firstname}} {{customer.lastname}}</span></a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="chat-contents">
                        <div class="chat-content-wrap">
                            <div class="chat-wrap-inner">
                                <div class="chat-box">
                                    <div class="chats" *ngFor="let chat of chats" style="padding: 5px 10px 0px 10px;">
                                        <div class="chat chat-right" *ngIf="chat.employeeChat?.id == employeeId">
                                            <div class="chat-body">
                                                <div class="chat-bubble">
                                                    <div class="chat-content" style="background-color: #067ff8;">
                                                        <p style="margin-bottom: 0px;color: #fff;">{{chat.message}}</p>
                                                        <span style="color: #fff;" class="chat-time">{{ chat.time | date:'shortTime' }} {{chat.time  | date: 'dd/MM/yyyy'}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat chat-left" *ngIf="chat.customerChat?.id == userId">
                                            <div class="chat-avatar">
                                                <a href="profile.html" class="avatar">
                                                    <img alt="Jennifer Robinson" src="assets/img/user.jpg" class="img-fluid rounded-circle">
                                                </a>
                                            </div>
                                            <div class="chat-body">
                                                <div class="chat-bubble">
                                                    <div class="chat-content" style="background-color: #3e4042;">
                                                        <p style="margin-bottom: 0px;color: #fff;">{{chat.message}}</p>
                                                        <span style="color: #fff;" class="chat-time">{{ chat.time | date:'shortTime' }} {{chat.time  | date: 'dd/MM/yyyy'}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat chat-left" *ngIf="chat.employeeChat?.id != employeeId && chat.employeeChat?.id != 'BOT'">
                                            <div class="chat-avatar">
                                                <span class="avatar">NV</span>
                                            </div>
                                            <div class="chat-body">
                                                <div class="chat-bubble">
                                                    <div class="chat-content" style="background-color: #3e4042;">
                                                        <p style="margin-bottom: 0px;color: #fff;">{{chat.message}}</p>
                                                        <span style="color: #fff;" class="chat-time">{{ chat.time | date:'shortTime' }} {{chat.time  | date: 'dd/MM/yyyy'}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat chat-left" *ngIf="chat.employeeChat?.id != employeeId && chat.employeeChat?.id == 'BOT'">
                                            <div class="chat-avatar">
                                                <span class="avatar">BOT</span>
                                            </div>
                                            <div class="chat-body">
                                                <div class="chat-bubble">
                                                    <div class="chat-content" style="background-color: #3e4042;">
                                                        <p style="margin-bottom: 0px; color: #fff;">{{chat.message}}</p>
                                                        <span style="color: #fff;" class="chat-time">{{ chat.time | date:'shortTime' }} {{chat.time  | date: 'dd/MM/yyyy'}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="chats" *ngFor="let chatMessage of webSocketService.chatMessages" style="padding: 5px 10px 0px 10px;">
                                        <div class="chat chat-right" *ngIf="chatMessage.user == employeeId">
                                            <div class="chat-body">
                                                <div class="chat-bubble">
                                                    <div class="chat-content" style="background-color: #067ff8;">
                                                        <p style="margin-bottom: 0px; color: #fff;">{{chatMessage.message}}</p>
                                                        <span style="color: #fff;" class="chat-time">{{ chatMessage.dateTime | date:'shortTime' }} {{chatMessage.dateTime  | date: 'dd/MM/yyyy'}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat chat-left" *ngIf="chatMessage.user == 'me'">
                                            <div class="chat-avatar">
                                                <a href="profile.html" class="avatar">
                                                    <img alt="Jennifer Robinson" src="assets/img/user.jpg" class="img-fluid rounded-circle">
                                                </a>
                                            </div>
                                            <div class="chat-body">
                                                <div class="chat-bubble">
                                                    <div class="chat-content" style="background-color: #3e4042;">
                                                        <p style="margin-bottom: 0px; color: #fff;">{{chatMessage.message}}</p>
                                                        <span style="color: #fff;" class="chat-time">{{ chatMessage.dateTime | date:'shortTime' }} {{chatMessage.dateTime  | date: 'dd/MM/yyyy'}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat chat-left" *ngIf="chatMessage.user == 'bot'">
                                            <div class="chat-avatar">
                                                <span class="avatar">BOT</span>
                                            </div>
                                            <div class="chat-body">
                                                <div class="chat-bubble">
                                                    <div class="chat-content" style="background-color: #3e4042;">
                                                        <p style="margin-bottom: 0px; color: #fff;">{{chatMessage.message}}</p>
                                                        <span style="color: #fff;" class="chat-time">{{ chatMessage.dateTime | date:'shortTime' }} {{chatMessage.dateTime  | date: 'dd/MM/yyyy'}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat chat-left" *ngIf="chatMessage.user != 'bot' && chatMessage.user != 'me' && chatMessage.user != employeeId">
                                            <div class="chat-avatar">
                                                <span class="avatar">NV</span>
                                            </div>
                                            <div class="chat-body">
                                                <div class="chat-bubble">
                                                    <div class="chat-content" style="background-color: #3e4042;">
                                                        <p style="margin-bottom: 0px; color: #fff;">{{chatMessage.message}}</p>
                                                        <span style="color: #fff;" class="chat-time">{{ chatMessage.dateTime | date:'shortTime' }} {{chatMessage.dateTime  | date: 'dd/MM/yyyy'}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="chat-footer">
                        <div class="message-bar">
                            <div class="message-inner">
                                <a class="link attach-icon" href="#" data-toggle="modal" data-target="#drag_files"><img src="assets/img/attachment.png" alt=""></a>
                                <div class="message-area">
                                    <div class="input-group">
                                        <textarea class="form-control" placeholder="Type message..." [(ngModel)]="chatMessage"></textarea>
                                        <span class="input-group-append">
                                            <button class="btn btn-primary" type="button" (click)="sendMessage()"><i class="fa fa-send"></i></button>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 message-view chat-profile-view chat-sidebar" id="chat_sidebar" style="padding: 0px;">
                <div class="chat-window video-window">
                    <div class="fixed-header">

                    </div>
                    <div class="tab-content chat-contents">
                        <div class="content-full tab-pane show active" id="profile_tab">
                            <div class="display-table">
                                <div class="table-row">
                                    <div class="table-body">
                                        <div class="table-content">
                                            <div class="chat-profile-img">
                                                <div class="edit-profile-img">
                                                    <img src="assets/img/user.jpg" alt="">
                                                    <span class="change-img">Change Image</span>
                                                </div>
                                                <h3 class="user-name m-t-10 mb-0">{{customer.firstname}} {{customer.lastname}}</h3>
                                            </div>
                                            <div class="chat-profile-info">
                                                <ul class="user-det-list">
                                                    <li>
                                                        <span>Email:</span>
                                                        <span class="float-right text-muted">{{customer.email}}</span>
                                                    </li>
                                                    <li>
                                                        <span>Phone:</span>
                                                        <span class="float-right text-muted"> {{customer.phone}}</span>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>